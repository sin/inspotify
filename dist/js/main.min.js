$("document").ready(function(){"use strict";var a,b,c,d,e,f="http://ws.spotify.com/search/1/track.json?q=",g=$("#resultsTemplate").html(),h=($("#noSearchTemplate").html(),$("#input")),i=$("#results");a=function(a){if(-1!==[13,16,18].indexOf(a.which))return void a.stopPropagation();if(c&&c.abort(),a.delegateTarget.value.length>0)b(a.delegateTarget.value);else{var d=Mustache.render(g,{});i.html(d)}a.stopPropagation()},b=function(a){c=$.getJSON(f+a+"*",function(a){console.log(a),c=void 0,d(a)})},d=function(a){var b,c,d,f;for(a.info.query=a.info.query.slice(0,-1),a.info.showing=a.tracks.length,b=0,c=a.tracks.length;c>b;b+=1)d=a.tracks[b],d.index=b+2,d.len=Math.floor(d.length),d.min=Math.floor(d.len/60),d.sec=String(d.len%60),d.time=d.min+":"+(d.sec.length<2?"0"+d.sec:d.sec),d.popularity=Math.floor(20*d.popularity);f=Mustache.render(g,a),i.html(f),$("tr").bind("keypress dblclick",e)},e=function(a){"keypress"===a.type&&13===a.which||"dblclick"===a.type?(window.location=$(a.delegateTarget).data("href"),a.stopPropagation()):9!==a.keyCode&&h.focus()},$("body").bind("keypress",function(a){9!==a.keyCode&&h.focus()}),h.keyup(a),h.focus(),h.keyup()});
//# sourceMappingURL=main.min.map